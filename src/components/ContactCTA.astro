---
import CallToAction from './CallToAction.astro';
import Icon from './Icon.astro';
---

<aside id="contact">
	<div class="contact-details-wrapper">
		<header class="section-header stack gap-2 lg:gap-4">
			<h3>Contact Me</h3>
		</header>
		<div class="contact-info">
			<h3>Akashdeep Gupta</h3>
			<p><Icon icon="envelope-simple" size="1.2em" /> akashdeepg06@gmail.com</p>
			<p><Icon icon="phone" size="1.2em" /> +91 9876543210 (Placeholder)</p>
			<p><Icon icon="map-pin" size="1.2em" /> Gurugram, India</p>
		</div>
	</div>
	<form class="contact-form">
		<div class="form-group">
			<label for="name">Name:</label>
			<input type="text" id="name" name="name" required />
		</div>
		<div class="form-group">
			<label for="email">Email:</label>
			<input type="email" id="email" name="email" required />
		</div>
		<div class="form-group">
			<label for="subject">Subject:</label>
			<input type="text" id="subject" name="subject" required />
		</div>
		<div class="form-group">
			<label for="message">Message:</label>
			<textarea id="message" name="message" rows="5" required></textarea>
		</div>
		<CallToAction href="mailto:akashdeepg06@gmail.com">
			Send Me a Message
			<Icon icon="paper-plane-tilt" size="1.2em" />
		</CallToAction>
	</form>
</aside>

<style>
	aside {
		display: flex;
		flex-direction: column;
		align-items: center; /* Keep for mobile centering */
		gap: 3rem;
		border-top: 1px solid var(--gray-800);
		border-bottom: 1px solid var(--gray-800);
		padding: 5rem 1.5rem;
		background-color: var(--gray-999_40);
		box-shadow: var(--shadow-sm);
	}

	.section-header {
		justify-self: center;
		text-align: center;
		max-width: 50ch;
		font-size: var(--text-md);
		color: var(--gray-300);
	}

	.section-header h3 {
		font-size: var(--text-2xl);
	}

	.contact-details-wrapper {
		display: flex;
		flex-direction: column;
		gap: 2rem;
		width: 100%;
		padding: 2rem;
		border: 1px solid var(--gray-800);
		border-radius: 0.75rem;
		background-color: var(--gray-999_40);
		box-shadow: var(--shadow-sm);
	}

	@media (min-width: 50em) {
		aside {
			padding: 7.5rem;
			display: grid; /* Use grid for desktop layout */
			grid-template-columns: 1fr 1fr; /* Equal columns for details and form */
			gap: 3rem;
			align-items: flex-start;
		}

		.contact-details-wrapper {
			grid-column: 1 / 2; /* Wrapper in the first column */
			padding: 3rem;
		}

		.section-header {
			font-size: var(--text-lg);
			text-align: left;
			justify-self: flex-start;
			max-width: none; /* Remove max-width for desktop */
		}

		.section-header h3 {
			font-size: var(--text-4xl);
		}

		.contact-info {
			text-align: left;
		}

		.contact-form {
			grid-column: 2 / 3; /* Form in the second column */
			max-width: none; /* Remove max-width as it's now in a grid column */
			padding: 2rem; /* Add padding to the form */
			border: 1px solid var(--gray-800);
			border-radius: 0.75rem;
			background-color: var(--gray-999_40);
			box-shadow: var(--shadow-sm);
		}
	}

	.contact-info {
		text-align: center; /* Default to center for mobile */
	}

	.contact-info h3 {
		font-size: var(--text-xl);
		margin-bottom: 1rem;
		color: var(--gray-0);
	}

	.contact-info p {
		margin-bottom: 0.5rem;
		color: var(--gray-300);
	}

	.contact-form {
		display: flex;
		flex-direction: column;
		gap: 1.5rem;
		width: 100%;
	}

	.form-group {
		display: flex;
		flex-direction: column;
	}

	.form-group label {
		margin-bottom: 0.5rem;
		font-weight: bold;
		color: var(--gray-0);
	}

	.form-group input[type="text"],
	.form-group input[type="email"],
	.form-group textarea {
		padding: 0.75rem;
		border: 1px solid var(--gray-700);
		border-radius: 0.5rem;
		background-color: var(--gray-900);
		color: var(--gray-0);
		font-size: var(--text-base);
	}

	.form-group input[type="text"]:focus,
	.form-group input[type="email"]:focus,
	.form-group textarea:focus {
		outline: none;
		border-color: var(--accent-regular);
		box-shadow: 0 0 0 3px rgba(var(--accent-regular-rgb), 0.2);
	}

	/* Styling for the CallToAction button inside the form */
	.contact-form .call-to-action { /* Assuming CallToAction renders a button or a link with this class */
		margin-top: 1rem; /* Add some space above the button */
	}
</style>
